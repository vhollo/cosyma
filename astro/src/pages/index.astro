---
export interface Props {
  slug: Object;
}

import Mozaik from '../layouts/Mozaik.astro'

import { client } from '../lib/sanityClient.js';
//import { allCategoriesWithPosts } from '../lib/api.js';
import { allPosts } from '../lib/api.js'; // for indexPosts
//import { homePage } from '../lib/api.js';
//const pages = await client.fetch(homePage);
import { catPages } from '../lib/api.js'; // for Nav

/*
//export async function getStaticPaths() {
  const paths = new Set();
*/
//  const pagess = await client.fetch(alllPages);
//  console.log({pagess})
  const pages = await client.fetch(catPages)
  const home = pages?.filter(p => p.index >= 0).shift() || {}
  //console.log({pages})
  const allBlogPosts = await client.fetch(allPosts);
  const indexPosts = allBlogPosts?.filter((post) => post.index && post._lang == 'hu')
  //console.log({indexPosts})

---

<Mozaik page={home} pages={pages} posts={indexPosts} lang="hu" summaryfrom="auto"/>
